# Vim style copy mode
set-window-option -g mode-keys vi

# ENABLE HIGHLIGHTING
set -g mode-style 'fg=default,bg=default,reverse'
set -g copy-mode-match-style 'fg=black,bg=yellow'
set -g copy-mode-current-match-style 'fg=black,bg=green'

# Better vi-style copy mode bindings
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel
bind -T copy-mode-vi V send-keys -X rectangle-toggle
bind -T copy-mode-vi 'C-v' send-keys -X rectangle-toggle
bind -T copy-mode-vi Escape send-keys -X clear-selection  # Clear selection with Escape

# Navigation in copy mode
bind -T copy-mode-vi h send-keys -X cursor-left
bind -T copy-mode-vi j send-keys -X cursor-down
bind -T copy-mode-vi k send-keys -X cursor-up
bind -T copy-mode-vi l send-keys -X cursor-right

# Word navigation
bind -T copy-mode-vi w send-keys -X next-word
bind -T copy-mode-vi b send-keys -X previous-word
bind -T copy-mode-vi e send-keys -X next-word-end

# Line navigation
bind -T copy-mode-vi 0 send-keys -X start-of-line
bind -T copy-mode-vi $ send-keys -X end-of-line
bind -T copy-mode-vi ^ send-keys -X back-to-indentation
bind -T copy-mode-vi g send-keys -X history-top
bind -T copy-mode-vi G send-keys -X history-bottom

# Search in copy mode
bind -T copy-mode-vi / command-prompt -p "search down" "send -X search-forward \"%%%\""
bind -T copy-mode-vi ? command-prompt -p "search up" "send -X search-backward \"%%%\""
bind -T copy-mode-vi n send-keys -X search-again
bind -T copy-mode-vi N send-keys -X search-reverse

# Faster scrolling
bind -T copy-mode-vi C-d send-keys -X halfpage-down
bind -T copy-mode-vi C-u send-keys -X halfpage-up
bind -T copy-mode-vi C-f send-keys -X page-down
bind -T copy-mode-vi C-b send-keys -X page-up
